{"version":3,"sources":["App.js","index.js"],"names":["operations","generateGrid","rows","i","push","Array","from","App","useState","grid","setGrid","running","setRunning","runningRef","useRef","current","runSimulation","useCallback","g","produce","gridCopy","k","liveNeighbors","forEach","x","y","newI","newK","setTimeout","style","display","placeItems","padding","justifyContent","alignItems","margin","cursor","onClick","Math","random","gridTemplateColumns","map","row","col","newGrid","width","height","backgroundColor","undefined","border","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0MAKMA,EAAa,CACjB,CAAC,EAAG,GACJ,CAAC,GAAI,GACL,CAAC,GAAI,GACL,EAAE,EAAG,GACL,CAAC,EAAG,GACJ,EAAE,GAAI,GACN,CAAC,EAAG,GACJ,EAAE,EAAG,IAGDC,EAAe,WAEnB,IADA,IAAMC,EAAO,GACJC,EAAI,EAAGA,EAfF,GAeeA,IAC3BD,EAAKE,KAAKC,MAAMC,KAAKD,MAfT,KAeyB,kBAAM,MAE7C,OAAOH,GAqHMK,MAlHf,WAAgB,IAAD,EACWC,oBAAS,WAC/B,OAAOP,OAFI,mBACNQ,EADM,KACAC,EADA,OAIiBF,oBAAS,GAJ1B,mBAING,EAJM,KAIGC,EAJH,KAKPC,EAAaC,iBAAOH,GAC1BE,EAAWE,QAAUJ,EAErB,IAAMK,EAAgBC,uBAAY,WAC3BJ,EAAWE,UAIhBL,GAAQ,SAACQ,GACP,OAAOC,YAAQD,GAAG,SAACE,GACjB,IAD+B,IAAD,WACrBjB,GACP,IAF4B,eAEnBkB,GACP,IAAIC,EAAgB,EACpBtB,EAAWuB,SAAQ,YAAa,IAAD,mBAAVC,EAAU,KAAPC,EAAO,KACvBC,EAAOvB,EAAIqB,EACXG,EAAON,EAAII,EACbC,GAAQ,GAAKA,EA1Cf,IA0CiCC,GAAQ,GAAKA,EAzC9C,KA0CAL,GAAiBJ,EAAEQ,GAAMC,OAIzBL,EAAgB,GAAKA,EAAgB,EACvCF,EAASjB,GAAGkB,GAAK,EACI,IAAZH,EAAEf,GAAGkB,IAA8B,IAAlBC,IAC1BF,EAASjB,GAAGkB,GAAK,IAbZA,EAAI,EAAGA,EApCV,GAoCuBA,IAAM,EAA1BA,IADFlB,EAAI,EAAGA,EApCR,GAoCqBA,IAAM,EAA1BA,SAqBbyB,WAAWZ,EAAe,QACzB,IAEH,OACE,sBAAKa,MAAO,CAAEC,QAAS,OAAQC,WAAY,SAAUC,QAAS,UAA9D,UACE,sBACEH,MAAO,CACLC,QAAS,OACTG,eAAgB,eAChBC,WAAY,UAJhB,UAOE,wBACEL,MAAO,CAAEM,OAAQ,GAAIH,QAAQ,WAAaI,OAAQ,WAClDC,QAAS,WACF1B,IACHE,EAAWE,SAAU,EACrBC,KAEFJ,GAAYD,IAPhB,SAUGA,EAAU,OAAS,UAEtB,wBACEkB,MAAO,CAAEM,OAAQ,GAAIH,QAAQ,WAAaI,OAAQ,WAClDC,QAAS,WACPzB,GAAW,GACXF,GAAQ,kBAAMT,QAJlB,mBASA,wBACE4B,MAAO,CAAEM,OAAQ,GAAIH,QAAQ,WAAaI,OAAQ,WAClDC,QAAS,WAEP,IADA,IAAMnC,EAAO,GACJC,EAAI,EAAGA,EA9FZ,GA8FyBA,IAC3BD,EAAKE,KACHC,MAAMC,KAAKD,MA/FX,KA+F2B,kBAAOiC,KAAKC,SAAW,GAAM,EAAI,MAGhE7B,EAAQR,IATZ,0BAeF,qBACE2B,MAAO,CACLC,QAAS,OACTU,oBAAoB,UAAD,OA3Gb,GA2Ga,YAHvB,SAMG/B,EAAKgC,KAAI,SAACC,EAAKvC,GAAN,OACRuC,EAAID,KAAI,SAACE,EAAKtB,GAAN,OACN,qBAEEgB,QAAS,WACP,IAAMO,EAAUzB,YAAQV,GAAM,SAACW,GAC7BA,EAASjB,GAAGkB,GAAKZ,EAAKN,GAAGkB,GAAK,EAAI,KAEpCX,EAAQkC,IAEVf,MAAO,CACLgB,MAAO,GACPC,OAAQ,GACRC,gBAAiBtC,EAAKN,GAAGkB,GAAK,eAAY2B,EAC1CC,OAAQ,qBAZZ,UACU9C,EADV,YACekB,gBChH3B6B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.8e7a9597.chunk.js","sourcesContent":["import React, { useCallback, useRef, useState } from \"react\";\nimport produce from \"immer\";\n\nconst numRows = 50;\nconst numCols = 50;\nconst operations = [\n  [0, 1],\n  [0, -1],\n  [1, -1],\n  [-1, 1],\n  [1, 1],\n  [-1, -1],\n  [1, 0],\n  [-1, 0],\n];\n\nconst generateGrid = () => {\n  const rows = [];\n  for (let i = 0; i < numRows; i++) {\n    rows.push(Array.from(Array(numCols), () => 0));\n  }\n  return rows;\n};\n\nfunction App() {\n  const [grid, setGrid] = useState(() => {\n    return generateGrid();\n  });\n  const [running, setRunning] = useState(false);\n  const runningRef = useRef(running);\n  runningRef.current = running;\n\n  const runSimulation = useCallback(() => {\n    if (!runningRef.current) {\n      return;\n    }\n\n    setGrid((g) => {\n      return produce(g, (gridCopy) => {\n        for (let i = 0; i < numRows; i++) {\n          for (let k = 0; k < numCols; k++) {\n            let liveNeighbors = 0;\n            operations.forEach(([x, y]) => {\n              const newI = i + x;\n              const newK = k + y;\n              if (newI >= 0 && newI < numRows && newK >= 0 && newK < numCols) {\n                liveNeighbors += g[newI][newK];\n              }\n            });\n\n            if (liveNeighbors < 2 || liveNeighbors > 3) {\n              gridCopy[i][k] = 0;\n            } else if (g[i][k] === 0 && liveNeighbors === 3) {\n              gridCopy[i][k] = 1;\n            }\n          }\n        }\n      });\n    });\n\n    setTimeout(runSimulation, 100);\n  }, []);\n\n  return (\n    <div style={{ display: \"grid\", placeItems: \"center\", padding: \"2.5rem\" }}>\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-around\",\n          alignItems: \"center\",\n        }}\n      >\n        <button\n          style={{ margin: 10, padding: `5px 10px`, cursor: \"pointer\" }}\n          onClick={() => {\n            if (!running) {\n              runningRef.current = true;\n              runSimulation();\n            }\n            setRunning(!running);\n          }}\n        >\n          {running ? \"STOP\" : \"START\"}\n        </button>\n        <button\n          style={{ margin: 10, padding: `5px 10px`, cursor: \"pointer\" }}\n          onClick={() => {\n            setRunning(false);\n            setGrid(() => generateGrid());\n          }}\n        >\n          CLEAR\n        </button>\n        <button\n          style={{ margin: 10, padding: `5px 10px`, cursor: \"pointer\" }}\n          onClick={() => {\n            const rows = [];\n            for (let i = 0; i < numRows; i++) {\n              rows.push(\n                Array.from(Array(numCols), () => (Math.random() > 0.7 ? 1 : 0))\n              );\n            }\n            setGrid(rows);\n          }}\n        >\n          RANDOM !!\n        </button>\n      </div>\n      <div\n        style={{\n          display: \"grid\",\n          gridTemplateColumns: `repeat(${numCols}, 20px)`,\n        }}\n      >\n        {grid.map((row, i) =>\n          row.map((col, k) => (\n            <div\n              key={`${i}-${k}`}\n              onClick={() => {\n                const newGrid = produce(grid, (gridCopy) => {\n                  gridCopy[i][k] = grid[i][k] ? 0 : 1;\n                });\n                setGrid(newGrid);\n              }}\n              style={{\n                width: 20,\n                height: 20,\n                backgroundColor: grid[i][k] ? \"#00FF33\" : undefined,\n                border: \"solid 0.1px #fff\",\n              }}\n            ></div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}