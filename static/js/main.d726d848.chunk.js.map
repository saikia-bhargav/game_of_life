{"version":3,"sources":["App.js","index.js"],"names":["operations","generateGrid","rows","i","push","Array","from","App","useState","grid","setGrid","running","setRunning","runningRef","useRef","current","runSimulation","useCallback","g","produce","gridCopy","k","liveNeighbors","forEach","x","y","newI","newK","setTimeout","style","display","placeItems","padding","justifyContent","alignItems","margin","cursor","onClick","Math","random","gridTemplateColumns","map","row","col","newGrid","width","height","backgroundColor","undefined","border","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0MAKMA,EAAa,CACjB,CAAC,EAAG,GACJ,CAAC,GAAI,GACL,CAAC,GAAI,GACL,EAAE,EAAG,GACL,CAAC,EAAG,GACJ,EAAE,GAAI,GACN,CAAC,EAAG,GACJ,EAAE,EAAG,IAGDC,EAAe,WAEnB,IADA,IAAMC,EAAO,GACJC,EAAI,EAAGA,EAfF,GAeeA,IAC3BD,EAAKE,KAAKC,MAAMC,KAAKD,MAfT,KAeyB,kBAAM,MAE7C,OAAOH,GAqHMK,MAlHf,WAAgB,IAAD,EACWC,oBAAS,WAC/B,OAAOP,OAFI,mBACNQ,EADM,KACAC,EADA,OAIiBF,oBAAS,GAJ1B,mBAING,EAJM,KAIGC,EAJH,KAKPC,EAAaC,iBAAOH,GAC1BE,EAAWE,QAAUJ,EAErB,IAAMK,EAAgBC,uBAAY,WAC3BJ,EAAWE,UAIhBL,GAAQ,SAACQ,GACP,OAAOC,YAAQD,GAAG,SAACE,GACjB,IAD+B,IAAD,WACrBjB,GACP,IAF4B,eAEnBkB,GACP,IAAIC,EAAgB,EACpBtB,EAAWuB,SAAQ,YAAa,IAAD,mBAAVC,EAAU,KAAPC,EAAO,KACvBC,EAAOvB,EAAIqB,EACXG,EAAON,EAAII,EACbC,GAAQ,GAAKA,EA1Cf,IA0CiCC,GAAQ,GAAKA,EAzC9C,KA0CAL,GAAiBJ,EAAEQ,GAAMC,OAIzBL,EAAgB,GAAKA,EAAgB,EACvCF,EAASjB,GAAGkB,GAAK,EACI,IAAZH,EAAEf,GAAGkB,IAA8B,IAAlBC,IAC1BF,EAASjB,GAAGkB,GAAK,IAbZA,EAAI,EAAGA,EApCV,GAoCuBA,IAAM,EAA1BA,IADFlB,EAAI,EAAGA,EApCR,GAoCqBA,IAAM,EAA1BA,SAqBbyB,WAAWZ,EAAe,QACzB,IAEH,OACE,sBAAKa,MAAO,CAAEC,QAAS,OAAQC,WAAY,SAAUC,QAAS,UAA9D,UACE,sBACEH,MAAO,CACLC,QAAS,OACTG,eAAgB,eAChBC,WAAY,UAJhB,UAOE,wBACEL,MAAO,CAAEM,OAAQ,GAAIH,QAAQ,WAAaI,OAAQ,WAClDC,QAAS,WACF1B,IACHE,EAAWE,SAAU,EACrBC,KAEFJ,GAAYD,IAPhB,SAUGA,EAAU,OAAS,UAEtB,wBACEkB,MAAO,CAAEM,OAAQ,GAAIH,QAAQ,WAAaI,OAAQ,WAClDC,QAAS,WACPzB,GAAW,GACXF,GAAQ,kBAAMT,QAJlB,mBASA,wBACE4B,MAAO,CAAEM,OAAQ,GAAIH,QAAQ,WAAaI,OAAQ,WAClDC,QAAS,WAEP,IADA,IAAMnC,EAAO,GACJC,EAAI,EAAGA,EA9FZ,GA8FyBA,IAC3BD,EAAKE,KACHC,MAAMC,KAAKD,MA/FX,KA+F2B,kBAAOiC,KAAKC,SAAW,GAAM,EAAI,MAGhE7B,EAAQR,IATZ,0BAeF,qBACE2B,MAAO,CACLC,QAAS,OACTU,oBAAoB,UAAD,OA3Gb,GA2Ga,YAHvB,SAMG/B,EAAKgC,KAAI,SAACC,EAAKvC,GAAN,OACRuC,EAAID,KAAI,SAACE,EAAKtB,GAAN,OACN,qBAEEgB,QAAS,WACP,IAAMO,EAAUzB,YAAQV,GAAM,SAACW,GAC7BA,EAASjB,GAAGkB,GAAKZ,EAAKN,GAAGkB,GAAK,EAAI,KAEpCX,EAAQkC,IAEVf,MAAO,CACLgB,MAAO,GACPC,OAAQ,GACRC,gBAAiBtC,EAAKN,GAAGkB,GAAK,eAAY2B,EAC1CC,OAAQ,qBAZZ,UACU9C,EADV,YACekB,gBChH3B6B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.d726d848.chunk.js","sourcesContent":["import React, { useCallback, useRef, useState } from \"react\";\r\nimport produce from \"immer\";\r\n\r\nconst numRows = 50;\r\nconst numCols = 50;\r\nconst operations = [\r\n  [0, 1],\r\n  [0, -1],\r\n  [1, -1],\r\n  [-1, 1],\r\n  [1, 1],\r\n  [-1, -1],\r\n  [1, 0],\r\n  [-1, 0],\r\n];\r\n\r\nconst generateGrid = () => {\r\n  const rows = [];\r\n  for (let i = 0; i < numRows; i++) {\r\n    rows.push(Array.from(Array(numCols), () => 0));\r\n  }\r\n  return rows;\r\n};\r\n\r\nfunction App() {\r\n  const [grid, setGrid] = useState(() => {\r\n    return generateGrid();\r\n  });\r\n  const [running, setRunning] = useState(false);\r\n  const runningRef = useRef(running);\r\n  runningRef.current = running;\r\n\r\n  const runSimulation = useCallback(() => {\r\n    if (!runningRef.current) {\r\n      return;\r\n    }\r\n\r\n    setGrid((g) => {\r\n      return produce(g, (gridCopy) => {\r\n        for (let i = 0; i < numRows; i++) {\r\n          for (let k = 0; k < numCols; k++) {\r\n            let liveNeighbors = 0;\r\n            operations.forEach(([x, y]) => {\r\n              const newI = i + x;\r\n              const newK = k + y;\r\n              if (newI >= 0 && newI < numRows && newK >= 0 && newK < numCols) {\r\n                liveNeighbors += g[newI][newK];\r\n              }\r\n            });\r\n\r\n            if (liveNeighbors < 2 || liveNeighbors > 3) {\r\n              gridCopy[i][k] = 0;\r\n            } else if (g[i][k] === 0 && liveNeighbors === 3) {\r\n              gridCopy[i][k] = 1;\r\n            }\r\n          }\r\n        }\r\n      });\r\n    });\r\n\r\n    setTimeout(runSimulation, 100);\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ display: \"grid\", placeItems: \"center\", padding: \"2.5rem\" }}>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-around\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <button\r\n          style={{ margin: 10, padding: `5px 10px`, cursor: \"pointer\" }}\r\n          onClick={() => {\r\n            if (!running) {\r\n              runningRef.current = true;\r\n              runSimulation();\r\n            }\r\n            setRunning(!running);\r\n          }}\r\n        >\r\n          {running ? \"STOP\" : \"START\"}\r\n        </button>\r\n        <button\r\n          style={{ margin: 10, padding: `5px 10px`, cursor: \"pointer\" }}\r\n          onClick={() => {\r\n            setRunning(false);\r\n            setGrid(() => generateGrid());\r\n          }}\r\n        >\r\n          CLEAR\r\n        </button>\r\n        <button\r\n          style={{ margin: 10, padding: `5px 10px`, cursor: \"pointer\" }}\r\n          onClick={() => {\r\n            const rows = [];\r\n            for (let i = 0; i < numRows; i++) {\r\n              rows.push(\r\n                Array.from(Array(numCols), () => (Math.random() > 0.7 ? 1 : 0))\r\n              );\r\n            }\r\n            setGrid(rows);\r\n          }}\r\n        >\r\n          RANDOM !!\r\n        </button>\r\n      </div>\r\n      <div\r\n        style={{\r\n          display: \"grid\",\r\n          gridTemplateColumns: `repeat(${numCols}, 20px)`,\r\n        }}\r\n      >\r\n        {grid.map((row, i) =>\r\n          row.map((col, k) => (\r\n            <div\r\n              key={`${i}-${k}`}\r\n              onClick={() => {\r\n                const newGrid = produce(grid, (gridCopy) => {\r\n                  gridCopy[i][k] = grid[i][k] ? 0 : 1;\r\n                });\r\n                setGrid(newGrid);\r\n              }}\r\n              style={{\r\n                width: 20,\r\n                height: 20,\r\n                backgroundColor: grid[i][k] ? \"#00FF33\" : undefined,\r\n                border: \"solid 0.1px #fff\",\r\n              }}\r\n            ></div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}